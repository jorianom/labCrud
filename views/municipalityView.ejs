<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/global.css"/>
    <title><%= title %></title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="/js/municipality.js" defer></script>
  </head>
  <body>
    <div id="fondo"></div>
    <%- include("./components/header") %>
    <main>
      <% if (title) { %>
        <h1><%= title %></h1>
      <% } %>

      <button class="fab">+</button>
      <ul>
          <% municipalities.map((element) => { %>
          <li class="card">
            <h2><%= element.name %></h2>
            <div class="btn-container">
          </div>
            <div class="card-elements">
                <p><span>√Årea:</span> <%= element.area %> Km<sup>2</sup></p>
                <p><span>Presupuesto:</span> <%= element.budget/1000000 %> billones</p>
                <p><span>Departamento:</span> <%= element.department.name %></p>
                <p><span>Alcalde:</span> <%= element.governor.name %></p>
              </div>
              <div class="icon-container">
                <i class="icono-actualizar municipality-actualizar" data-id="<%= element.id %>">üîÑ</i> <!-- Ejemplo con emoji -->
                <i class="icono-eliminar municipality-eliminar" data-id="<%= element.id %>">‚ùå</i> <!-- Ejemplo con emoji -->
            </div>
          </li>
          <% }) %>
      </ul>
    </main>
    <%- include("./components/municipalityForm") %>
    <!-- <%- include("./components/footer") %> -->
  </body>
</html>


<style>
    .card-elements p span {
        font-weight: bold;
    }
    h1 {
        font-size: clamp(1rem, .7rem + 3vw, 3rem);
        margin: 2rem 0;
    }
    .card {
        position: relative;
        padding-bottom: 30px;
    }
    .btn-container {
        position: absolute;
        top: 0;
        right: 0;
    }
    .btn-container button {
        border-radius: 50%;
        width: 2rem;
        height: 2rem;
        border: none;
    }
    ul {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        gap: 3rem;
    }
    li {
        flex: 1;
        flex-basis: 20%;
        min-width: 10rem;
        max-width: 18rem;
    }
    .fab {
        position: fixed;
        bottom: 5%;
        right: 4%;
        border-radius: 50%;
        width: max-content;
        height: 4.5rem;
        width: 4.5rem;
        background: none;
        background-color: rgb(41, 92, 30);
        border: none;
        color: white;
        font-size: 4rem;
    }
    img {
        width: 5rem;
        height: 5rem;
    }
    .card {
        box-shadow: 0 10px 20px 10px #b0b0b0;
        border-radius: 20px;
    }
    .card div {
        padding: 1rem;
    }
    .card div p:nth-child(even) {
        background-color: #dfdfdf;
    }
    .card h2 {
        text-align: center;
        padding: 1rem 0;
        background-color: rgb(41, 92, 30);
        border-radius: 20px 20px 0 0;
        color: white;
    }    
    .card p {
        text-align: center;
    }    
</style>